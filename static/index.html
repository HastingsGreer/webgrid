<html>
  <head>
    <title> gridslam </title>
    <script src="opencvcustom.js" type="text/javascript"></script>
    <script src="bundle.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="shortcut icon" href="favicon.ico">
  </head>
  <body>
    <div id="main-content">

      <div id="top-row">
        <video id="player" controls autoplay playsinline></video>
        <canvas id="tracking" width="128 pix" height="128 pix"></canvas>

        <canvas id="cameraframe" width="512 pix" height="512 pix">
        </canvas>
      </div>
      <div id="bottom-row">
        <canvas id="lines" width="128 pix" height="128 pix"></canvas>

        <canvas id="map" width="128 pix" height="128 pix"></canvas>
      </div>
      <div class="container">
        <button id="runmodel" class="btn btn-primary"> Run Model </button> 
        <button id="runonce" class="btn btn-primary"> Run Once </button>
        <button id="submit" class="btn btn-primary"> Record and Upload </button>
      </div>
      <br>
      <br>
      <div class="container">
        <button id="save" class="btn btn-primary"> Upload Track </button> 
        <button id="calibrateC" class="btn btn-primary"> Calibrate </button>
        <button id="resetMap" class="btn btn-primary"> Reset </button>
      </div>
      
      Transform: <span id=transform></span><br>
      Error: <span id=error></span><br>
      Offset: <span id=offset></span><br>
      Alpha: <span id=alpha></span><br/>
      Beta: <span id=beta></span><br/>
      Gamma: <span id=gamma></span><br/>
      <br>
      Webkit: <span id=webkit></span><br/>
      <br>
      <h4>Requirements:</h4>
      <br>
      This application requires access to the camera for detecting ceiling tile edges, and the device accelerometer for
      tracking orientation. It also assumes the standard accelerometer to camera transform found on mobile phones, which 
      means on a desktop or laptop, it will not be able to calculate transform parameters.<br>
      It also requires a view of standard 2' x 2' drop ceiling tiles.<br>
      <h4>Instructions:</h4><br>
      Once the device knows its position, it will render the device's horizontal position as a red dot, and its height as a blue dot.
      These dots' positions wrap around in their box.
      <br>
      If either dot is moving erratically, press Reset to reset the Kalman Filter.
      <span id=log></span>

      <div>
        <div>
          Focal length <input type="range" min="70" 
            max="150" value="90" class="slider" id="focalLength"
          >
        </div>
        <div>
          Pitch offset <input type="range" min="-150" 
            max="150" value="0" class="slider" id="pitchOffset"
          >
        </div>
        <div>
          Roll offset <input type="range" min="-150" 
            max="150" value="0" class="slider" id="rollOffset"
          >
        </div>
      </div>


      



    </div>
    <div class="loading-fade"></div><div class="loading-msg">Loading OpenCV... <br> Note: Please Use Portrait Mode</div>
    
  </body>
</html>

